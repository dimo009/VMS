
@using System.Globalization;
@model VulnerabilityDetailsViewModel

@{
    ViewData["Title"] = "Vulnerability Details";
}

<h2>@ViewData["Title"]</h2>

<br/>


@{ int currentMonth = DateTime.Now.Day <= 26 ? DateTime.Now.AddMonths(-1).Month : DateTime.Now.Month;}
@{ 
    DateTimeFormatInfo mfi = new DateTimeFormatInfo();
    string firstMonth = mfi.GetMonthName(currentMonth);
    string secondMonth = mfi.GetMonthName(new DateTime(DateTime.Now.Year, currentMonth, 1).AddMonths(-1).Month);
    string thirdMonth = mfi.GetMonthName(new DateTime(DateTime.Now.Year, currentMonth, 1).AddMonths(-2).Month);
    string forthMonth = mfi.GetMonthName(new DateTime(DateTime.Now.Year, currentMonth, 1).AddMonths(-3).Month);
    string fifthMonth = mfi.GetMonthName(new DateTime(DateTime.Now.Year, currentMonth, 1).AddMonths(-4).Month);
    string sixthMonth = mfi.GetMonthName(new DateTime(DateTime.Now.Year, currentMonth, 1).AddMonths(-5).Month);

    string[] months = new string[] { firstMonth, secondMonth, thirdMonth, forthMonth, fifthMonth, sixthMonth };
 }
<!--
//string[] months = new string[] {
    // mfi.GetMonthName(currentMonth),
    //mfi.GetMonthName(currentMonth - 1), mfi.GetMonthName(currentMonth - 2),
    //mfi.GetMonthName(currentMonth - 3), mfi.GetMonthName(currentMonth - 4),
    // mfi.GetMonthName(currentMonth - 5) };}

    -->

<div class="row">
    <div class="col-md-4">


        <table class="table table-hover">

            <tr style="text-align:center">
                <th>
                    @months[0]
                </th>
                <th>
                    @months[1]
                </th>
                <th>
                    @months[2]
                </th>
                <th>
                    @months[3]
                </th>
                <th>
                    @months[4]
                </th>
                <th>
                    @months[5]
                </th>
            </tr>
            <tr style="text-align:center">
                <td style="text-align:center">
                    @ViewBag.stats[0]
                </td>
                <td style="text-align:center">
                    @ViewBag.stats[1]
                </td>
                <td style="text-align:center">
                   @ViewBag.stats[2]
                </td>
                <td style="text-align:center">
                    @ViewBag.stats[3]
                </td>
                <td style="text-align:center">
                    @ViewBag.stats[4]
                </td>
                <td style="text-align:center">
                    @ViewBag.stats[5]
                </td>
            </tr>
           
        </table>

    </div>
    </div>
<hr />

    <p style="float:right">
        <a asp-area="" asp-controller="Chart" asp-action="ChartView" asp-route-id="@Model.Id" class="btn btn-sm btn-primary">Chart</a>
    </p>

    <br />

    <div class="align-content-xl-start" style="font-size:18px">
        <div class="col-md-12">

            <div class="form">
                Title:
            </div>
            <div class="form">
                @Model.Name
            </div>
            <hr />

            <div class="form">
                @Html.IdFor(m => m.Severity):
            </div>
            <div class="form">
                @Html.DisplayFor(m => m.Severity)
            </div>
            <hr />

            <div class="form">
                @Html.IdFor(m => m.CVE):
            </div>
            <div class="form">
                @Html.DisplayFor(m => m.CVE)
            </div>

            <hr />

            <div class="form" style="white-space:nowrap; overflow:hidden; text-overflow:ellipsis">
                @Html.IdFor(m => m.Solution):
            </div>
            <div class="form">
                @Html.DisplayFor(m => m.Solution)
            </div>
            <hr />

            <div class="form">
                @Html.IdFor(m => m.Notes):
            </div>
            <div class="form">
                @Html.DisplayFor(m => m.Notes)
            </div>

        </div>
    </div>
    <br />


    <p style="float:right">
        @if (Model.Severity == "5")
        {
            <a asp-area="" asp-controller="Vulnerability" asp-action="SeverityFive" class="btn btn-sm btn-primary">Back</a>
        }
        else
        {
            <a asp-area="" asp-controller="Vulnerability" asp-action="SeverityFour" class="btn btn-sm btn-primary">Back</a>
        }
    </p>

